IF OBJECT_ID('tempdb.dbo.#Input', 'U') IS NOT NULL
BEGIN
	DROP TABLE #Input
END

CREATE TABLE #Input (
	RowNumber bigint not null IDENTITY(1,1),
	TreeLine nvarchar(max)
)

INSERT INTO #Input VALUES
('.#.#....##.......#..........#..'),
('...#...........##...#..#.......'),
('#.####......##.#...#......#.#..'),
('##.....#.#.#..#.#............#.'),
('##.....#....#.........#...##...'),
('###..#.....#....#..............'),
('..........#..#.#..#.#....#.....'),
('##.....#....#.#...#.##.........'),
('#...#......#....##....#..#.#...'),
('.##.##...#....##..#.#.....#...#'),
('.....#.#..........##.#........#'),
('.##..................#..#..##.#'),
('#.#..........##....#.####......'),
('.#......#.#......#.........#...'),
('#....#..##.##..##........#.#...'),
('##..#.##..#...#..####.#..#.....'),
('###....#.###.##...........##..#'),
('.....#.##.....##.#..#####....##'),
('....#.###....#..##....##...#...'),
('..###.#...##.....#.##..#..#.#..'),
('#...#..#..#.........#..#.......'),
('##..#.#.....#.#.#.......#...#.#'),
('...#...##.#........#...#.......'),
('..#..#.#..#...#...#...........#'),
('........#.....#......#...##....'),
('#........##.##.#.#...#...#.....'),
('####.......#.##.###.#....#.....'),
('...#...........#...#......#...#'),
('##...#...#............#.......#'),
('....#...........##.......#.....'),
('###......#.....#....#...#.#...#'),
('.....##..........#.......#.#...'),
('##.##.##...#......#....#.......'),
('##..#.#..#......#...#..#.......'),
('....#....##.##............####.'),
('..#.###..#.##.###..#.##.......#'),
('#.##..#.#.....#..#.....##......'),
('..##..#.....##.#.##........#...'),
('.#..#.#......#..#............#.'),
('.....#..#.#...#....#.##.#......'),
('.#...##.#..#.#...##...##..##...'),
('###............#.#..#..#...#...'),
('..#..##.####.#.....#.....##.###'),
('#....#.##..##....#..#...#.##.#.'),
('.....#.##.........##...##......'),
('.........####.#....#.#......#.#'),
('.........#.#..#...#.#..#.#....#'),
('.#.....#..##.##..##....#.......'),
('..........##......#.##.###....#'),
('.##...###..##.#...#........##..'),
('..............#.#....#.#.###.##'),
('..##.##.......#.#......##...#..'),
('.#.....#..##..#.###...#..#.##.#'),
('#.....#.#..#...#........#...#..'),
('.#......#....#.#.....###...#..#'),
('..##.#....#..##......#.....#...'),
('..#.#.##..#.....#.####..###....'),
('.........#......#..#...........'),
('..#........#.##.#.....##.##..#.'),
('.......#.........#....#...#.#..'),
('.##.....#.#....#.#.......#.....'),
('..........#.##........##...##..'),
('###..###.#.#..#..#####.##.#.##.'),
('..##..##.#.#...#..#.#.#......#.'),
('#..#..#..#..##..#.....#......#.'),
('..#....#.##..#......##.........'),
('..#.##......#...##.#......#....'),
('.......#..#.##.#.....#.........'),
('.......#.#.#.###...##......#...'),
('.....#.#..........#..#...#.....'),
('....##..........#..........##..'),
('..#......#.....#.##.#..#...#.#.'),
('....#.....#..#...#..#.#.##..###'),
('.####....#........#...#........'),
('...##.#.##.#..#...##...#.##....'),
('....#...#...#.#.#.#...#..#.....'),
('.....#...#.#.....#.#........##.'),
('..#.#.......###.#.....##.......'),
('......#.........##....#....#..#'),
('.............##.....##.........'),
('.........##...##.......#.....#.'),
('##.........#..........#.###..##'),
('...#.....#......#....#..##.....'),
('##..#...#...##.#.....#.#......#'),
('..#...##.#.......#.#......#.##.'),
('......#.......#.#...........#..'),
('..........#.....##............#'),
('#........#...#..#.......###.##.'),
('.##...........#.#........#.#.#.'),
('...#..##...#.#....#####.#......'),
('.....##...###...#..#.##...####.'),
('...#....#.....#..#.......#.....'),
('#....#....#...#..#..#.######..#'),
('#.###...........#......#...#..#'),
('.#.#.#.#..#....#....#...##.#...'),
('.#..#.........#.#....###...#...'),
('......#..##.##..........#....##'),
('.....#......##....##.....#...#.'),
('.#...#.#.#....##....#..#....#.#'),
('..................#..###.#..##.'),
('..#.........#......#....#..###.'),
('#.#.....#..#..#....###..###....'),
('..##..##.#..##........##...##..'),
('##..#........##..###..#.....#.#'),
('..#..###..#......#....#...#...#'),
('#..#.#..............##.#..#.#..'),
('.....####....#...####.....#.#..'),
('.....#....##.#......###........'),
('##.##...#.#.#.#.......#....##..'),
('.#......#...#.#....#..##.#.##.#'),
('#.#.##.#.#......#..##........##'),
('...##.....#.....#...#..###...#.'),
('........###.....#.....#...##..#'),
('.....#.##.##......#.#....#...#.'),
('.#....##.......#..#.####.......'),
('.#..#....#..........#......#.#.'),
('.#.##.##.....###.#.#...........'),
('.........#......#..##..........'),
('....#...##.#.#.#..#.#.........#'),
('..#.....#.##...#..#..#.###....#'),
('...#.##......#.....##....#.....'),
('###............#.#....#...#....'),
('.......#.....#..#.#.#....#..#.#'),
('...#......#.#..##..#....#...#.#'),
('............##........##..##...'),
('..#..#.##..#......###..#.......'),
('........#.........#............'),
('..#...#.#########.#...##..###..'),
('#....#......#.......#.#.....#..'),
('#.#..#....###.###....#...#.#...'),
('#...###.#.#.......#.##......#..'),
('.................#...#.#.#.....'),
('##....#...#........#....#.#..#.'),
('......#.....#...#..........#.#.'),
('##..........#...#..........#.##'),
('..#.#.##.#....#.#......#...##..'),
('.....#.......#..#.....#........'),
('#.##.#..##..#.......##.........'),
('....#......#..#..#.#...#.......'),
('...#....#................###...'),
('.##.....#.#....#.#..........##.'),
('...#..#....#.##.##......#......'),
('..#.#....#.......#.#..##.......'),
('....#.....#..........##.#.#####'),
('#.....................##..#..#.'),
('.###..#.##.......##.#...#..#...'),
('...###.......#..#...#......#..#'),
('#..#...#.#..#.#..#..#.##.......'),
('#...##.......#..#..#.##..###...'),
('......#....#.#.#........#.##..#'),
('..##..#....#....#..#.#..#......'),
('..##.#...#.#######..#...#.....#'),
('..#....#..#.........#..##......'),
('...#....#.#......#..#..#.#.....'),
('#..#....#........#.#..##....###'),
('#....#..##......##.##.....#.###'),
('...#.#..........#..#.#.#.#.##..'),
('......##..#.#..#.#....#....#...'),
('##....#....#..#..#.##......#...'),
('....#.#..##.#.#...###....##.#..'),
('...#.......##..#.......#...#...'),
('......##.......#..##.....#...#.'),
('...#.#...#...........#...#.....'),
('.#....#...#......##.##..###..#.'),
('.#..........#...#...#...##.##..'),
('.....###..#.....#..##....#.####'),
('..#.###..#..##..##.....#.#.....'),
('.............#.###...##.#.....#'),
('....###.......###.#.....#..#.#.'),
('........##.#.........#.....###.'),
('.....###.#..#.....#...#..#.....'),
('.#....#..##.#..#.#....#.......#'),
('........#......#.#..#.#..#...##'),
('...#.##.##......#..............'),
('.#.....##.#.....#..#......##...'),
('#..#..#.....#.....#.....###....'),
('.##...........#..#.##.....#....'),
('..#.#......#.#...#.##.#..#...##'),
('...#..........#.....#..........'),
('#.#.#.#.#...#....#...#.....##..'),
('#......##...#...#..........#.#.'),
('....##........#.#..............'),
('#..#.#.#..#........##......#.##'),
('........####...##.#.....#......'),
('....#........#.#..#..##..#.#...'),
('.#.....#..###...#..#.....#..#..'),
('#......###.#..#....#..#.#......'),
('....#.....##.##..#...#.#..##.#.'),
('..##..#...#.#......#....#...#.#'),
('#..##...##..#...###...#..#.....'),
('.......#.....#...........##....'),
('#..##....#........#....##..#.#.'),
('.#........#..##...###.#..#.....'),
('.#.#....#..##...#...##.#..###..'),
('#.........#.......#.....#.#....'),
('#..#.....#.#.###.#..#......#...'),
('....#..#.#....#..##..###....###'),
('###.##.#.#..#...........#.#.#..'),
('..##.#.......#......#..##....#.'),
('.....#.#.#.......##.......#...#'),
('...........#.##....##.##....#.#'),
('...#.......#..#.##..#......#..#'),
('#.#.#...#......##.#...........#'),
('##........#...........###.#..#.'),
('..........#.#.#....#.#..##.#.#.'),
('...#.#.#....#..........#..#....'),
('#.#....###.#.#..#.......###...#'),
('.#....#......#.#.#..#..#.......'),
('......##.............#....#.#.#'),
('.#..........#.........#.##.....'),
('##....#....##....#..#.......#..'),
('#.##.##.#..#..#.....#..#.##.#..'),
('.#..#.......##..#.....##.##....'),
('.......#..........#.#.##..#.##.'),
('....#.....#.#...##....##.......'),
('.......#.........#...##....##.#'),
('#.....#......#..........#...#..'),
('...#.#.......#.#..#....###..#..'),
('.....#.#.#.........#...........'),
('.#..###.#.#........#.#.........'),
('.........#..#......##...##....#'),
('...###..#.....##.....#.###....#'),
('.##...#...#........###.#..#....'),
('.##........#..#.###.######.##.#'),
('##.#...#.#....#..##.#....##....'),
('.......##.....##.#..###.#......'),
('..##...##........#.......#....#'),
('#..##...#.####...###......#...#'),
('.##.....#.##.#.#.....###.#..##.'),
('..###....#.#.###.#....#........'),
('....#..###..#...#....#..#..#.#.'),
('#.#.##....##...##.......#......'),
('.........#...#....#..#.........'),
('.............#...#..##.#.......'),
('...#.##.......#...#.#..##.##...'),
('.####.#.##..#.#......#.##...#.#'),
('.#..#.#.....#.................#'),
('..#.##..###....#...#......####.'),
('..##..##...........#....#...#..'),
('....#...#...#...#.......#....#.'),
('#.#...###...#...#.#...#....##.#'),
('......#...#.#.......#.....#...#'),
('....##...#.#.#....#....#.#....#'),
('.....#.....#...##..#...#....##.'),
('#.....#....#......##.##....#...'),
('...#.#....#...#....#.#....##..#'),
('...#.#..#...##....###..#.......'),
('...##......###...###.#...#..#..'),
('##.......#.......###.......#..#'),
('..##.##..###.#............#...#'),
('#.....##..#..##....##..#.......'),
('......#.#...#......#.....#.....'),
('#...........#....#..##.##.#....'),
('.......#..#......#...#....#...#'),
('.#...##...........#......#...#.'),
('#........#....##...###.#....#..'),
('.....#.......##.........#.##...'),
('.#.###..#....#..##.#..#.#..#...'),
('#.......#.##.#.#....#.#..#....#'),
('###.....#.#.......#..#......#.#'),
('#..#.#.......#.#..##..##.#.#...'),
('#..#.#.#.###........#.....#...#'),
('#.#.#..#..##.....#...........#.'),
('..#.#..#.....#...#...#...##....'),
('...#.##......#...##.#...#.#.#.#'),
('#..#.#.#.#.......####..........'),
('..#......#.#......##.###.....##'),
('..#...##..#.........##....#.##.'),
('##.##.##.#.#.....#..........##.'),
('.#.....###.#..#....#..#.###...#'),
('#...##.......###....#.#..#.....'),
('..#....##.........##.........##'),
('......#....#.##.......#........'),
('..#.#.#..#...#...#...##.#...#..'),
('......#..##.#.#.#...##...#.#.##'),
('#..#...##.#.....#...#.##.......'),
('..#..#.........##.#...#.##...##'),
('##.##.#....#.......#.##..#.....'),
('.....##...##.##...##.........##'),
('#......#...#.......#...#...#...'),
('...##...........#...#..#.......'),
('.#.##.#..#........#....#.......'),
('#.#...#..#......##...#.#.##....'),
('##........####..#.#...#.#.##.##'),
('#..#.#.##......##.#.#..#.......'),
('.....#.........#..#.####....#..'),
('......##..#....#...#.#....#....'),
('#...##........#.........#.....#'),
('.#.#...#.#.#..#............##.#'),
('.#..#....#....#.....#...#.....#'),
('..###...#..#.....#.##.###...#.#'),
('.#.###..#..#...#.#...#.#......#'),
('#...#####......###........##...'),
('.....#.....#..#.#....#..##.....'),
('....##...#.#.##.#####...#....#.'),
('.#.#.........##.#.......#..##..'),
('.#...#.#...#...#....#.#...##.#.'),
('.##...#..#.#..#......#.#.#..##.'),
('..#.....#..#.....##.....#......'),
('..#........#..##...#.......###.'),
('.#....#.......#....#....#..#...'),
('....#......#.#.#.........#.....'),
('..##...#.#.#...#.#........#....'),
('.#.....####...##.#..#...##.....'),
('...#.....#...#...#....#....#...'),
('.........#..#.#.....#..#.#..#..'),
('.........##...........#.......#'),
('......#..#.....##...#.##.#.....'),
('.#......##........##...#.#.##..'),
('.....#.#..##...........#..#..#.'),
('...#.......#...#.#..#.##..#.##.'),
('...#.......#.....#.#...#.##.#..'),
('#.....#.............##.#..####.'),
('.#...#......#...##.#....#.#....'),
('.##..##.##....#.#.....#.......#'),
('...#...#....#....##.#..#....##.'),
('..............##....#.......#.#'),
('.#.#.#...##..#..#...###.#..#...'),
('.#.#...#.#..#.#..#...######..#.'),
('........#......#.#..#.#....#...'),
('..###.....###.#.##....#...##...'),
('.##.#.....#.......##.......#...'),
('..#..##...#..........#.#....#.#')

SELECT
	CAST(SUM(
		CASE
		WHEN SUBSTRING(TreeLine, ((RowNumber - 1) * 1) % LEN(TreeLine) + 1, 1) = '#'
			THEN 1
			ELSE 0
		END
	) AS BIGINT)
	*
	CAST(SUM(
		CASE
		WHEN SUBSTRING(TreeLine, ((RowNumber - 1) * 3) % LEN(TreeLine) + 1, 1) = '#'
			THEN 1
			ELSE 0
		END
	) AS BIGINT)
	*
	CAST(SUM(
		CASE
		WHEN SUBSTRING(TreeLine, ((RowNumber - 1) * 5) % LEN(TreeLine) + 1, 1) = '#'
			THEN 1
			ELSE 0
		END
	) AS BIGINT)
	*
	CAST(SUM(
		CASE
		WHEN SUBSTRING(TreeLine, ((RowNumber - 1) * 7) % LEN(TreeLine) + 1, 1) = '#'
			THEN 1
			ELSE 0
		END
	) AS BIGINT)
	*
	CAST(SUM(
		CASE
		WHEN 
			(RowNumber % 2 = 1) 
			AND SUBSTRING(TreeLine, ((RowNumber-1)/2) % LEN(TreeLine) + 1, 1) = '#'
			THEN 1
			ELSE 0
		END
	) AS BIGINT)
FROM
	#Input